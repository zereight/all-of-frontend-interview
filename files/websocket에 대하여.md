## 웹소켓이란?

웹소켓 이전에는 모든 것을 HTTP를 이용하여 해결했다.
HTTP는 상태를 가지고 있지 않기 때문에, 실시간 상호작용성이 떨어진다는 단점이 있다.

그래서 나온것이 웹소켓이다.

### 웹소켓 이전에는?

#### Polling

폴링은 클라이언트가 서버에 주기적으로 http request를 요청하여 이벤트 내용을 전달받는 방식이다.

- 구현하기 쉽다.
- 클라이언트가 많아지면 서버의 부담이 급증한다.
- http 요청을 맺고 끊는 것에 대한 비용이 크다는 뜻
  (3 way랑 4 way가 엄청나게 일어날 수 있음)

#### Long Polling

롱 폴링은 클라이언트가 서버에 주기적으로 http request를 요청하는데, 연결을 유지하다가 서버에서 클라이언트에게 응답할 이벤트가 생기면 그때 응답을 하고 연결을 끊는다.

- 이벤트가 생길때까지 연결을 맺고 있으므로, 서버에 부하가 적다.
- 근데, 이벤트 발생 시점이 짧다면 폴링방식과 다를게 없다.

#### Streaming

스트리밍 방식은, 클라이언트가 http 요청을 서버에게 보내고, 서버는 응답을 끊임없이 보낸다.
이제는 http요청을 한번만 하면 계속 응답을 받을 수 있다.

- 서버에서 클라이언트로 메세지를 보낼 수는 있으나, 클라이언트에서 서버로 메시지를 보내지 못한다. 하나의 TCP포트에는 읽기 쓰기 못함 (포트를 다르게 쓰는 편법 사용해야함)
- 즉, 양방향 통신에 어려움이 있다.

### 웹소켓의 특징

- 웹소켓은 수신과 송신을 동시에 처리할 수 있는 방법이다.
- 서버-클라이언트 사이에 소켓을 열어서 계속 연결이 유지되어있도록 한다.
- http가 stateless한 반면, 웹소켓은 stateful하다.
- html5에서 새로 등장하였다.
- 서버-클라이언트 간의 소켓 연결도 어쨋든 비용이라서 CPU에 부담이 될 수 있다.
